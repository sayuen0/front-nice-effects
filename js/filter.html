<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>ある配列から条件を満たす別の配列を作成する</title>
</head>

<body>
  <div class="buttonwrapper">
    <button class="button" data-age="20">20才以上</button>
    <button class="button" data-age="30">30才以上</button>
    <button class="button" data-age="40">40才以上</button>
  </div>

  <ul class="user_list"></ul>

  <script>
    const userDataList = [{
        name: "A",
        age: 18
      },
      {
        name: "B",
        age: 28
      },
      {
        name: "C",
        age: 38
      },
      {
        name: "D",
        age: 48
      },
      {
        name: "E",
        age: 58
      },
      {
        name: "YJSNPI",
        age: 24
      }
    ];

    document.querySelectorAll(".button").forEach((element) => {
      element.addEventListener("click", (event) => {
        onClickButton(event);
      });
    });


    let onClickButton = (event) => {
      const button = event.target;
      const targetAge = button.dataset.age;
      const filteredList = userDataList.filter((data) => data.age >= targetAge);
      updateList(filteredList);
    }

    let updateList = (filteredList) => {
      let listHtml = "";

      for (const data of filteredList) {
        listHtml += `<li>${data.name}: ${data.age}才</li>`;
      }
      document.querySelector(".user_list").innerHTML = listHtml;
    }
  </script>
</body>

</html>
